{"ast":null,"code":"var _jsxFileName = \"D:\\\\MEGA\\\\Shared\\\\React\\\\ignis\\\\frontend\\\\src\\\\Components\\\\LauncherModal.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faFire, faFolder, faImage } from \"@fortawesome/free-solid-svg-icons\";\nimport Tooltip from \"./Tooltip\";\nimport Toasts, { Toast } from \"./Toasts\";\nimport IconFlat from \"../Icons/LogoFlat.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst commands = {\n  help: {\n    description: \"Lists all of the available commands.\"\n  },\n  js: {\n    description: \"Executes the specified arguments as JavaScript.\",\n    arguments: \"<code>\",\n    handle: (...args) => eval(args.join(\" \"))\n  }\n}; // Import the file system module\n\nconst fs = window.require(\"fs\"); // Get the child process module\n\n\nconst childProcess = window.require(\"child_process\");\n\nexport default function LauncherModal() {\n  _s();\n\n  // Create the field ref\n  const fieldRef = React.useRef(); // Create our auto complete state\n\n  const [autoComplete, setAutoComplete] = React.useState([/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Item\",\n    children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n      icon: faFolder\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"/somefolder/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Item\",\n    children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n      icon: faFolder\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"/somefolder/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Item\",\n    children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n      icon: faImage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"/somefile.png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this)]); // Handle the send event\n\n  function handleSend(args) {\n    const _arguments = args.match(/[^\\s\"']+|\"([^\"]*)\"|'([^']*)'/gm); // Sent arguments was of type command, execute command if valid\n\n\n    if (args.startsWith(\"!\")) {\n      // Get the command object based on the first argument, lowercase, without the !\n      const command = commands[args.split(\" \")[0].slice(1).toLowerCase()]; // Command exists, execute it\n\n      if (command) {\n        // Call the command and get its return value\n        const response = command.handle(..._arguments.slice(1)); // Display our data to the user\n\n        response && Toasts.showToast(response.toString());\n        console.log(response);\n      } // Command does not exist, throw an error\n      else {\n        Toasts.showToast( /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [arguments[0].slice(1), \" is not a valid command\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 34\n        }, this), \"Failure\");\n      }\n    } // TODO check for indexed files\n    // If no commands or indexed files were found, try to launch manually\n    else {\n      // Try catch, in case of errors\n      try {\n        // Open the file, directory, or URL\n        childProcess.exec(`start \"\" \"${args}\"`); // Close the modal\n\n        window.close();\n      } catch (e) {\n        Toasts.showToast(\"Error opening file, check console for details\", \"Failure\");\n      }\n    } // Clear the field\n\n\n    fieldRef.current.value = \"\";\n  } // Handle rendering of auto-complete\n\n\n  function handleAutoComplete({\n    currentTarget: {\n      value\n    }\n  }) {}\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"LauncherModal\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Title\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"Icon\",\n        src: IconFlat,\n        height: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), \"Ignis Launcher\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"LauncherModalField\",\n        ref: fieldRef,\n        onKeyDown: e => e.key === \"Enter\" && handleSend(e.currentTarget.value),\n        placeholder: \"Ex - !help\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Button\",\n        onClick: () => handleSend(fieldRef.current.value),\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faFire\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          children: \"Run Command\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"AutoComplete\",\n      children: autoComplete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LauncherModal, \"sY1Vme+FYjACcgG6hJ0f6XtZOkU=\");\n\n_c = LauncherModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"LauncherModal\");","map":{"version":3,"sources":["D:/MEGA/Shared/React/ignis/frontend/src/Components/LauncherModal.js"],"names":["React","FontAwesomeIcon","faFire","faFolder","faImage","Tooltip","Toasts","Toast","IconFlat","commands","help","description","js","arguments","handle","args","eval","join","fs","window","require","childProcess","LauncherModal","fieldRef","useRef","autoComplete","setAutoComplete","useState","handleSend","_arguments","match","startsWith","command","split","slice","toLowerCase","response","showToast","toString","console","log","exec","close","e","current","value","handleAutoComplete","currentTarget","key"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faFire, faFolder, faImage } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Tooltip from \"./Tooltip\";\r\nimport Toasts, { Toast } from \"./Toasts\";\r\nimport IconFlat from \"../Icons/LogoFlat.png\";\r\n\r\nconst commands = {\r\n    help: {\r\n        description: \"Lists all of the available commands.\"\r\n    },\r\n    js: {\r\n        description: \"Executes the specified arguments as JavaScript.\",\r\n        arguments: \"<code>\",\r\n        handle: (...args) => eval(args.join(\" \"))\r\n    }\r\n};\r\n\r\n// Import the file system module\r\nconst fs = window.require(\"fs\");\r\n// Get the child process module\r\nconst childProcess = window.require(\"child_process\");\r\n\r\nexport default function LauncherModal() {\r\n    // Create the field ref\r\n    const fieldRef = React.useRef();\r\n    // Create our auto complete state\r\n    const [autoComplete, setAutoComplete] = React.useState([\r\n        <div className=\"Item\">\r\n            <FontAwesomeIcon icon={faFolder}/>\r\n            <span>/somefolder/</span>\r\n        </div>,\r\n        <div className=\"Item\">\r\n            <FontAwesomeIcon icon={faFolder}/>\r\n            <span>/somefolder/</span>\r\n        </div>,\r\n        <div className=\"Item\">\r\n            <FontAwesomeIcon icon={faImage}/>\r\n            <span>/somefile.png</span>\r\n        </div>\r\n    ]);\r\n    \r\n    // Handle the send event\r\n    function handleSend(args) {\r\n        const _arguments = args.match(/[^\\s\"']+|\"([^\"]*)\"|'([^']*)'/gm);\r\n        \r\n        // Sent arguments was of type command, execute command if valid\r\n        if (args.startsWith(\"!\")) {\r\n            // Get the command object based on the first argument, lowercase, without the !\r\n            const command = commands[args.split(\" \")[0].slice(1).toLowerCase()];\r\n            \r\n            // Command exists, execute it\r\n            if (command) {\r\n                // Call the command and get its return value\r\n                const response = command.handle(..._arguments.slice(1));\r\n                \r\n                // Display our data to the user\r\n                response && Toasts.showToast(response.toString());\r\n                console.log(response);\r\n            }\r\n            // Command does not exist, throw an error\r\n            else {\r\n                Toasts.showToast(<span>{arguments[0].slice(1)} is not a valid command</span>, \"Failure\");\r\n            }\r\n        }\r\n        // TODO check for indexed files\r\n        // If no commands or indexed files were found, try to launch manually\r\n        else {\r\n            // Try catch, in case of errors\r\n            try {\r\n                // Open the file, directory, or URL\r\n                childProcess.exec(`start \"\" \"${args}\"`);\r\n\r\n                // Close the modal\r\n                window.close();\r\n            }\r\n            catch (e) {\r\n                Toasts.showToast(\"Error opening file, check console for details\", \"Failure\");\r\n            }\r\n        }\r\n        \r\n        // Clear the field\r\n        fieldRef.current.value = \"\";\r\n    }\r\n    \r\n    // Handle rendering of auto-complete\r\n    function handleAutoComplete({ currentTarget: { value } }) {\r\n        \r\n    }\r\n    \r\n    return (\r\n        <div className=\"LauncherModal\">\r\n            <div className=\"Title\">\r\n                <img alt=\"Icon\" src={IconFlat} height={20}/>\r\n                \r\n                Ignis Launcher\r\n            </div>\r\n\r\n            <div className=\"Flex\">\r\n                <input className=\"LauncherModalField\" ref={fieldRef}\r\n                       onKeyDown={e => e.key === \"Enter\" && handleSend(e.currentTarget.value)}\r\n                       placeholder=\"Ex - !help\"/>\r\n\r\n                <div className=\"Button\" onClick={() => handleSend(fieldRef.current.value)}>\r\n                    <FontAwesomeIcon icon={faFire}/>\r\n                    \r\n                    <Tooltip>\r\n                        Run Command\r\n                    </Tooltip>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"AutoComplete\">\r\n                {autoComplete}\r\n            </div>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}