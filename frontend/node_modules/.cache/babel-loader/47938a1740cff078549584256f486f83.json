{"ast":null,"code":"var _jsxFileName = \"D:\\\\Drive\\\\Shared\\\\JavaScript\\\\Electron\\\\ignis\\\\frontend\\\\src\\\\Components\\\\Toasts.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"./Toasts.scss\";\nimport { getRandomKey, joinClassNames } from \"../Classes/Constants\";\nimport Timer from \"../Classes/TimerClass\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Toast({\n  children,\n  type,\n  life,\n  remove,\n  callback,\n  color,\n  fixedTime = false\n}) {\n  _s();\n\n  const handleRemove = () => {\n    setClosing(true);\n    setTimeout(remove, 500);\n  };\n\n  const [closing, setClosing] = React.useState(false);\n  const timer = React.useMemo(() => new Timer(handleRemove, life * 1000, false), []);\n  const progressBar = React.useRef();\n\n  const handleMouseEnter = () => {\n    timer.pause();\n    progressBar.current.style.animationPlayState = \"paused\";\n  };\n\n  const handleMouseLeave = () => {\n    timer.resume();\n    progressBar.current.style.animationPlayState = \"running\";\n  };\n\n  React.useEffect(() => {\n    const handleFocus = () => !fixedTime && handleMouseLeave();\n\n    const handleBlur = () => !fixedTime && handleMouseEnter();\n\n    window.addEventListener(\"focus\", handleFocus);\n    window.addEventListener(\"blur\", handleBlur);\n    (fixedTime || document.hasFocus()) && handleMouseLeave();\n    return () => {\n      window.removeEventListener(\"focus\", handleFocus);\n      window.removeEventListener(\"blur\", handleBlur);\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: joinClassNames(\"Toast\", [closing, \"Closing\"], type),\n    onMouseEnter: fixedTime ? null : handleMouseEnter,\n    onMouseLeave: fixedTime ? null : handleMouseLeave,\n    onClick: callback ? e => {\n      callback(e);\n      timer.end();\n    } : () => {\n      timer.end();\n    },\n    style: {\n      cursor: callback ? \"pointer\" : null,\n      backgroundColor: color\n    },\n    children: [children, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ProgressBarContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: progressBar,\n        className: \"ProgressBar\",\n        style: {\n          animationDuration: life + \"s\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Toast, \"0UiApLD8VKdUiqNumV40jon7kS0=\");\n\n_c = Toast;\nexport default class Toasts extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      toasts: []\n    };\n  }\n\n  componentDidMount() {\n    Toasts.instance = this;\n  }\n\n  static showToast(children, type = \"\", life = 5, additionalOptions = {}) {\n    const {\n      callback = null,\n      color = null,\n      fixedTime = false\n    } = additionalOptions;\n    const toast = /*#__PURE__*/React.createElement(Toast, {\n      key: getRandomKey(),\n      children,\n      type,\n      life,\n      color,\n      fixedTime,\n      remove: () => {\n        this.instance.setState({\n          toasts: this.instance.state.toasts.filter(t => t !== toast)\n        });\n      },\n      callback\n    });\n    this.instance.setState({\n      toasts: [...this.instance.state.toasts, toast]\n    });\n    return toast;\n  }\n\n  get horizontalStyle() {\n    return \"Center\"; // switch (Settings.props.notifications.toasts.positionX) {\n    // \tcase 0:\n    // \t\treturn \"Left\";\n    // \tcase 1:\n    // \t\treturn \"Center\";\n    // \tcase 2:\n    // \t\treturn \"Right\";\n    // }\n  }\n\n  get verticalStyle() {\n    return \"Bottom\"; // switch (Settings.props.notifications.toasts.positionY) {\n    // \tcase 0:\n    // \t\treturn \"Top\";\n    // \tcase 1:\n    // \t\treturn \"Bottom\";\n    // }\n  }\n\n  render() {\n    var _this$state$toasts;\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: Toasts.ref,\n      className: joinClassNames(\"ToastsContainer\", this.horizontalStyle, this.verticalStyle),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: joinClassNames(\"ClearButton\", [!!((_this$state$toasts = this.state.toasts) === null || _this$state$toasts === void 0 ? void 0 : _this$state$toasts.length), \"Visible\"]),\n        onClick: () => this.setState({\n          toasts: []\n        }),\n        children: /*#__PURE__*/_jsxDEV(\"u\", {\n          children: \"Close all\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }, this), this.state.toasts]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 4\n    }, this);\n  }\n\n}\nToasts.ref = /*#__PURE__*/React.createRef();\n\nvar _c;\n\n$RefreshReg$(_c, \"Toast\");","map":{"version":3,"sources":["D:/Drive/Shared/JavaScript/Electron/ignis/frontend/src/Components/Toasts.js"],"names":["React","getRandomKey","joinClassNames","Timer","Toast","children","type","life","remove","callback","color","fixedTime","handleRemove","setClosing","setTimeout","closing","useState","timer","useMemo","progressBar","useRef","handleMouseEnter","pause","current","style","animationPlayState","handleMouseLeave","resume","useEffect","handleFocus","handleBlur","window","addEventListener","document","hasFocus","removeEventListener","e","end","cursor","backgroundColor","animationDuration","Toasts","Component","state","toasts","componentDidMount","instance","showToast","additionalOptions","toast","createElement","key","setState","filter","t","horizontalStyle","verticalStyle","render","ref","length","createRef"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./Toasts.scss\";\r\nimport { getRandomKey, joinClassNames } from \"../Classes/Constants\";\r\nimport Timer from \"../Classes/TimerClass\";\r\n\r\nexport function Toast({ children, type, life, remove, callback, color, fixedTime = false }) {\r\n\tconst handleRemove = () => {\r\n\t\tsetClosing(true);\r\n\r\n\t\tsetTimeout(remove, 500);\r\n\t};\r\n\t\r\n\tconst [closing, setClosing] = React.useState(false);\r\n\tconst timer = React.useMemo(() => new Timer(handleRemove, life * 1000, false), []);\r\n\tconst progressBar = React.useRef();\r\n\t\r\n\tconst handleMouseEnter = () => {\r\n\t\ttimer.pause();\r\n\t\tprogressBar.current.style.animationPlayState = \"paused\";\r\n\t};\r\n\t\r\n\tconst handleMouseLeave = () => {\r\n\t\ttimer.resume();\r\n\t\tprogressBar.current.style.animationPlayState = \"running\";\r\n\t};\r\n\t\r\n\tReact.useEffect(() => {\r\n\t\tconst handleFocus = () => !fixedTime && handleMouseLeave();\r\n\t\tconst handleBlur = () => !fixedTime && handleMouseEnter();\r\n\t\t\r\n\t\twindow.addEventListener(\"focus\", handleFocus);\r\n\t\twindow.addEventListener(\"blur\", handleBlur);\r\n\t\t\r\n\t\t(fixedTime || document.hasFocus()) && handleMouseLeave();\r\n\t\t\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"focus\", handleFocus);\r\n\t\t\twindow.removeEventListener(\"blur\", handleBlur);\r\n\t\t};\r\n\t});\r\n\t\r\n\treturn (\r\n\t\t<div className={joinClassNames(\"Toast\", [closing, \"Closing\"], type)}\r\n\t\t\t onMouseEnter={fixedTime ? null : handleMouseEnter}\r\n\t\t\t onMouseLeave={fixedTime ? null : handleMouseLeave}\r\n\t\t\t onClick={callback ? e => { callback(e); timer.end(); } : () => { timer.end(); }}\r\n\t\t\t style={{ cursor: callback ? \"pointer\" : null, backgroundColor: color }}>\r\n\t\t\t{ children }\r\n\r\n\t\t\t<div className=\"ProgressBarContainer\">\r\n\t\t\t\t<div ref={progressBar} className=\"ProgressBar\" style={{ animationDuration: life + \"s\" }}/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default class Toasts extends React.Component {\r\n\tstatic instance;\r\n\tstatic ref = React.createRef();\r\n\t\r\n\tstate = { toasts: [] };\r\n\r\n\tcomponentDidMount() {\r\n\t\tToasts.instance = this;\r\n\t}\r\n\t\r\n\tstatic showToast(children, type = \"\", life = 5, additionalOptions = {}) {\r\n\t\tconst { callback = null, color = null, fixedTime = false } = additionalOptions;\r\n\t\t\r\n\t\tconst toast = React.createElement(Toast, {\r\n\t\t\tkey: getRandomKey(),\r\n\t\t\tchildren, type, life, color, fixedTime,\r\n\t\t\tremove: () => {\r\n\t\t\t\tthis.instance.setState({ toasts: this.instance.state.toasts.filter(t => t !== toast) });\r\n\t\t\t},\r\n\t\t\tcallback\r\n\t\t});\r\n\r\n\t\tthis.instance.setState({ toasts: [ ...this.instance.state.toasts, toast ] });\r\n\t\treturn toast;\r\n\t}\r\n\t\r\n\tget horizontalStyle() {\r\n\t\treturn \"Center\";\r\n\t\t\r\n\t\t// switch (Settings.props.notifications.toasts.positionX) {\r\n\t\t// \tcase 0:\r\n\t\t// \t\treturn \"Left\";\r\n\t\t// \tcase 1:\r\n\t\t// \t\treturn \"Center\";\r\n\t\t// \tcase 2:\r\n\t\t// \t\treturn \"Right\";\r\n\t\t// }\r\n\t}\r\n\t\r\n\tget verticalStyle() {\r\n\t\treturn \"Bottom\";\r\n\t\t\r\n\t\t// switch (Settings.props.notifications.toasts.positionY) {\r\n\t\t// \tcase 0:\r\n\t\t// \t\treturn \"Top\";\r\n\t\t// \tcase 1:\r\n\t\t// \t\treturn \"Bottom\";\r\n\t\t// }\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div ref={Toasts.ref} className={joinClassNames(\"ToastsContainer\", this.horizontalStyle, this.verticalStyle)}>\r\n\t\t\t\t<div className={joinClassNames(\"ClearButton\", [!!this.state.toasts?.length, \"Visible\"])} onClick={() => this.setState({ toasts: [] })}>\r\n\t\t\t\t\t<u>Close all</u>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t{ this.state.toasts }\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}